#!/bin/sh

set -e

case "$1" in
    configure)
        # Create the gossip-client user and group if they don't exist
        if ! getent group gossip-client >/dev/null; then
            addgroup --system gossip-client
        fi

        if ! getent passwd gossip-client >/dev/null; then
            adduser --system --ingroup gossip-client --no-create-home \
                --disabled-password --shell /bin/false gossip-client
        fi

        # Set ownership of config directory
        chown -R gossip-client:gossip-client /etc/snapshot-gossip-client
        chmod 750 /etc/snapshot-gossip-client
    ;;
esac

# dh_installdeb will replace this with shell code automatically
# generated by other debhelper scripts.

#DEBHELPER#

exit 0
